(this["webpackJsonpshoping-cart"]=this["webpackJsonpshoping-cart"]||[]).push([[4],{280:function(e,t,a){"use strict";a.r(t);var n=a(350),l=a(351),i=a(411),c=a(417),r=a(1),s=a.n(r),o=a(77),m=a(420),p=a(421),d=a(424),u=a(425),h=a(337),v=a(423),E=a(426),y=a(422),g=a(427),f=a(419),x=a(428),b=a(429),k=a(430),C=(a(352),Object(o.connect)()((function(e){var t=e.title,a=e.price,n=e.id,l=e.availableSizes,i=e.style,c=e.sku,r=e.dispatch,o=s.a.createElement(m.a,null,l.map((function(e){return s.a.createElement(m.a.Item,{key:e,onClick:function(){return function(e){r({type:"cart/add",payload:{id:n,title:t,price:a,size:e,sku:c,style:i}})}(e)}},s.a.createElement("span",null,e))})));return s.a.createElement("div",{className:"shop-card"},s.a.createElement("img",{src:"./static/products/".concat(c,"_1.jpg"),alt:"",width:"180",height:"240"}),s.a.createElement("h3",{style:{whiteSpace:"nowrap",overflow:"hidden"}},t),s.a.createElement("h4",null,i),s.a.createElement("div",{className:"price"},"$",s.a.createElement("span",{className:"before"},"".concat(a).split(".")[0]),".".concat(a.toFixed(2).split(".")[1])),s.a.createElement(y.a,{overlay:o,placement:"topRight",trigger:"click"},s.a.createElement(h.a,{type:"primary",style:{width:"100%"}},"Add to Cart")))}))),S=(a(139),["XS","S","M","ML","L","XL","XXL"]),w=function(e){Object(c.a)(a,e);var t=Object(i.a)(a);function a(e){var l;return Object(n.a)(this,a),(l=t.call(this,e)).state={visible:!1,active:null},l}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;e({type:"shop/getData"}),e({type:"cart/getData"})}},{key:"handleClearCart",value:function(){(0,this.props.dispatch)({type:"cart/clear"}),this.setState({visible:!1})}},{key:"handleChooseSize",value:function(e,t){var a=this.state.active,n=this.props.dispatch;return a===t?(n({type:"shop/getData"}),this.setState({active:null})):(n({type:"shop/filter",payload:e}),this.setState({active:t}))}},{key:"handleChangeCount",value:function(e,t){"number"===typeof e&&(0,this.props.dispatch)({type:"cart/changeCount",payload:{count:e,data:t}})}},{key:"handleOrderList",value:function(e){var t=e.key;(0,this.props.dispatch)({type:"shop/sort",payload:{key:t}})}},{key:"render",value:function(){var e=this,t=this.props,a=t.shop.products,n=t.cart.carts,l=t.loading,i=this.state.active,c=this.state.visible,r=s.a.createElement(m.a,{onClick:this.handleOrderList.bind(this)},s.a.createElement(m.a.Item,{key:"up"},"\u5347\u5e8f"),s.a.createElement(m.a.Item,{key:"down"},"\u964d\u5e8f"));return s.a.createElement(s.a.Fragment,null,s.a.createElement(p.a,{closable:!0,maskClosable:!0,mask:!0,visible:c,onClose:function(){e.setState({visible:!1})},width:"375",height:"100%"},s.a.createElement("div",{style:{height:"100px"}},s.a.createElement("h1",null,"\u8d2d\u7269\u8f66")),s.a.createElement("div",{className:"cart-content"},null===n||void 0===n?void 0:n.map((function(t){return s.a.createElement("div",{key:t.id+t.size,className:"cart-item"},s.a.createElement("div",null,s.a.createElement("img",{src:"./static/products/".concat(t.sku,"_1.jpg"),alt:"",height:"80"})),s.a.createElement("div",{className:"description"},s.a.createElement("div",{style:{fontWeight:"bold"}},t.title),s.a.createElement("div",null,t.size," | ",t.style),s.a.createElement("div",{className:"description-number"},s.a.createElement("div",null,"$",t.price.toFixed(2)," "),s.a.createElement(d.a,{value:t.count,onChange:function(a){return e.handleChangeCount(a,t)}}))))}))),s.a.createElement("div",{style:{height:"100px"}},(null===n||void 0===n?void 0:n.length)>0&&s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("h1",null,"\u5171\u8ba1\uff1a$",(null===n||void 0===n?void 0:n.reduce((function(e,t){return e+t.count*t.price}),0).toFixed(2))||0))),s.a.createElement(u.a,{placement:"top",title:"\u5171\u8ba1\uff1a$".concat((null===n||void 0===n?void 0:n.reduce((function(e,t){return e+t.count*t.price}),0).toFixed(2))||0,"\u662f\u5426\u7ed3\u8d26\uff1f"),onConfirm:this.handleClearCart.bind(this),okText:"\u662f",cancelText:"\u5426"},s.a.createElement(h.a,{type:"primary",style:{width:"100%",marginTop:"5px"}},"\u7ed3\u8d26")),s.a.createElement(u.a,{placement:"top",title:"\u786e\u8ba4\u6e05\u7a7a\u8d2d\u7269\u8f66",onConfirm:this.handleClearCart.bind(this),okText:"\u662f",cancelText:"\u5426"},s.a.createElement(h.a,{type:"primary",danger:!0,style:{width:"100%",marginTop:"5px"}},"\u6e05\u7a7a\u8d2d\u7269\u8f66"))))),s.a.createElement(v.a,{justify:"space-between"},s.a.createElement(E.a,{span:12},s.a.createElement(x.a,{style:{fontSize:"48px",margin:"20px"}})),s.a.createElement(E.a,{span:12,style:{textAlign:"right"}},s.a.createElement("div",{style:{padding:"20px",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"flex-end"}},s.a.createElement(y.a,{overlay:r,arrow:!0,trigger:"click"},s.a.createElement(h.a,{style:{marginRight:"20px"}},"\u6392\u5e8f ",s.a.createElement(b.a,null))),s.a.createElement(g.a,{count:null===n||void 0===n?void 0:n.reduce((function(e,t){return e+t.count}),0)},s.a.createElement(k.a,{style:{fontSize:"48px",cursor:"pointer"},onClick:function(){e.setState({visible:!0})}}))))),s.a.createElement(v.a,null,s.a.createElement(E.a,{xs:24,lg:4,md:6,xl:6,xxl:6},s.a.createElement("div",{className:"size-map"},s.a.createElement("h2",null,"Size:"),S.map((function(t,a){return s.a.createElement("div",{key:t,className:"size-item ".concat(a===i?"size-item-active":""),onClick:e.handleChooseSize.bind(e,t,a)},t)})))),s.a.createElement(E.a,{xs:24,lg:20,md:18,xl:18,xxl:18},l?s.a.createElement("div",{style:{textAlign:"center"}},s.a.createElement(f.a,null)):s.a.createElement(v.a,null,a.map((function(e,t){return s.a.createElement(E.a,{xs:24,md:12,lg:12,xl:8,xxl:6,key:t},s.a.createElement(C,e))}))))))}}]),a}(s.a.Component);t.default=Object(o.connect)((function(e){return{shop:e.shop,cart:e.cart,loading:e.loading.effects["shop/getData"]}}))(w)},352:function(e,t,a){}}]);
//# sourceMappingURL=4.f481d6dd.chunk.js.map