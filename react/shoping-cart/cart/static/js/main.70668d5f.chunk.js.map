{"version":3,"sources":["utils/request.js","models/shop.js","index.js","router.js"],"names":["service","axios","create","interceptors","response","use","data","Promise","reject","Error","error","alert","namespace","state","products","subscriptions","effects","getData","action","call","put","request","get","type","payload","filter","filterData","item","availableSizes","includes","reducers","save","app","dva","history","createHashHistory","router","require","default","start","menuGlobal","id","pid","name","icon","path","models","component","RouterConfig","map","index","dynamics","key","exact","dynamic"],"mappings":"iKAEMA,E,OAAUC,EAAMC,OAAO,IAG7BF,EAAQG,aAAaC,SAASC,KAC5B,SAACD,GACC,GAAIA,EACF,OAAOA,EAASE,KAEhBC,QAAQC,OAAO,IAAIC,MAAM,aAG7B,SAACC,GAEC,OADAC,MAAM,iCAASD,GACRH,QAAQC,OAAOE,MAGXV,QCjBA,WACbY,UAAW,OAEXC,MAAO,CACLC,SAAU,IAGZC,cAAe,GAEfC,QAAS,CACNC,QADM,qBACEC,EADF,8EAEQ,OADIC,EADZ,EACYA,KAAMC,EADlB,EACkBA,IADlB,SAEcD,GAAK,kBAAME,EAAQC,IAAI,qBAFrC,OAGL,OADMhB,EAFD,gBAGCc,EAAI,CAAEG,KAAM,OAAQC,QAASlB,IAH9B,0CAKNmB,OALM,yGAMQ,OADLD,EALH,EAKGA,QAAaL,EALhB,EAKgBA,KAAMC,EALtB,EAKsBA,IALtB,SAMcD,GAAK,kBAAME,EAAQC,IAAI,qBANrC,OAUL,OAJMhB,EAND,OAOCoB,EAAapB,EAAKQ,SAASW,QAAO,SAACE,GAAD,OACtCA,EAAKC,eAAeC,SAASL,MAR1B,SAUCJ,EAAI,CAAEG,KAAM,OAAQC,QAAS,CAAEV,SAAUY,KAV1C,2CAcTI,SAAU,CACRC,KADQ,SACHlB,EADG,GACwB,IAATP,EAAQ,EAAjBkB,QAEZ,OAAO,eAAKX,EAAZ,GAAsBP,O,6FC3B5B,mDAKM0B,EAAMC,IAAI,CACdC,QAASC,gBAUXH,EAAII,OAAOC,EAAQ,KAAYC,SAG/BN,EAAIO,MAAM,U,2HCfJC,EAAa,CACjB,CACEC,GAAI,OACJC,IAAK,IACLC,KAAM,OACNC,KAAM,OACNC,KAAM,IACNC,OAAQ,iBAAM,CAAC,yCAAyB,gCACxCC,UAAW,kBAAM,uDAuBNC,UApBf,YAAyC,IAAjBd,EAAgB,EAAhBA,QAASF,EAAO,EAAPA,IAC/B,OACE,kBAAC,SAAD,CAAQE,QAASA,GACf,kBAAC,SAAD,KACGM,EAAWS,KAAI,WAAwBC,GAAxB,IAAGL,EAAH,EAAGA,KAASM,EAAZ,+BACd,kBAAC,QAAD,CACEC,IAAKF,EACLL,KAAMA,EACNQ,OAAK,EACLN,UAAWO,IAAQ,aACjBtB,OACGmB,c","file":"static/js/main.70668d5f.chunk.js","sourcesContent":["import axios from \"axios\";\r\n// 创建axios实例\r\nconst service = axios.create({});\r\n\r\n// response拦截器\r\nservice.interceptors.response.use(\r\n  (response) => {\r\n    if (response) {\r\n      return response.data;\r\n    } else {\r\n      Promise.reject(new Error(\"error\"));\r\n    }\r\n  },\r\n  (error) => {\r\n    alert(\"请求出错！\", error);\r\n    return Promise.reject(error);\r\n  }\r\n);\r\nexport default service;\r\n","import request from \"../utils/request\";\r\nexport default {\r\n  namespace: \"shop\",\r\n\r\n  state: {\r\n    products: [],\r\n  },\r\n\r\n  subscriptions: {},\r\n\r\n  effects: {\r\n    *getData(action, { call, put }) {\r\n      const data = yield call(() => request.get(\"/products.json\"));\r\n      yield put({ type: \"save\", payload: data });\r\n    },\r\n    *filter({ payload }, { call, put }) {\r\n      const data = yield call(() => request.get(\"/products.json\"));\r\n      const filterData = data.products.filter((item) =>\r\n        item.availableSizes.includes(payload)\r\n      );\r\n      yield put({ type: \"save\", payload: { products: filterData } });\r\n    },\r\n  },\r\n\r\n  reducers: {\r\n    save(state, { payload: data }) {\r\n      // 保存数据到 state\r\n      return { ...state, ...data };\r\n    },\r\n  },\r\n};\r\n","import dva from \"dva\";\nimport \"./index.css\";\nimport shop from \"./models/shop\";\nimport { createHashHistory } from \"history\";\n// 1. Initialize\nconst app = dva({\n  history: createHashHistory(),\n});\n\n// 2. Plugins\n// app.use({});\n\n// 3. Model\n// app.model(shop);\n\n// 4. Router\napp.router(require(\"./router\").default);\n\n// 5. Start\napp.start(\"#root\");\n","import React from \"react\";\r\nimport { Router, Route, Switch } from \"dva/router\";\r\nimport dynamic from \"dva/dynamic\";\r\n\r\nconst menuGlobal = [\r\n  {\r\n    id: \"shop\",\r\n    pid: \"0\",\r\n    name: \"shop\",\r\n    icon: \"shop\",\r\n    path: \"/\",\r\n    models: () => [import(\"./models/shop\"), import(\"./models/cart\")], //models可多个\r\n    component: () => import(\"./routes/ShopCart.jsx\"),\r\n  },\r\n];\r\nfunction RouterConfig({ history, app }) {\r\n  return (\r\n    <Router history={history}>\r\n      <Switch>\r\n        {menuGlobal.map(({ path, ...dynamics }, index) => (\r\n          <Route\r\n            key={index}\r\n            path={path}\r\n            exact\r\n            component={dynamic({\r\n              app,\r\n              ...dynamics,\r\n            })}\r\n          />\r\n        ))}\r\n      </Switch>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default RouterConfig;\r\n"],"sourceRoot":""}